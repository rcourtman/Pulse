@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom slider styling for alert thresholds */
@layer components {
  /* Simple native range input styling */
  input[type="range"] {
    @apply appearance-none w-full h-2 bg-gray-300 dark:bg-gray-600 rounded-full outline-none cursor-pointer;
    /* Modern touch-action to prevent scroll interference on mobile */
    touch-action: pan-y pinch-zoom;
  }
  
  input[type="range"]::-webkit-slider-thumb {
    @apply appearance-none w-3 h-3 bg-gray-500 dark:bg-gray-400 rounded-full cursor-pointer relative z-10;
  }
  
  input[type="range"]::-moz-range-thumb {
    @apply w-3 h-3 bg-gray-500 dark:bg-gray-400 rounded-full cursor-pointer border-0 relative z-10;
  }
  
  input[type="range"].custom-threshold::-webkit-slider-thumb {
    @apply bg-blue-500 dark:bg-blue-400;
  }
  
  input[type="range"].custom-threshold::-moz-range-thumb {
    @apply bg-blue-500 dark:bg-blue-400;
  }

  /* Charts mode visibility toggle */
  .metric-chart {
    display: none;
  }
  
  .charts-mode .metric-text {
    display: none;
  }
  
  .charts-mode .metric-chart {
    display: block;
  }
  
  /* Ensure chart containers don't overflow and match progress bar width */
  .usage-chart-container {
    max-width: 100%;
    overflow: hidden;
    width: 100%;
    display: block;
  }
}

/* Mobile slider protection */
@media (max-width: 640px) {
  /* Wrapper for sliders on mobile */
  .slider-wrapper {
    position: relative;
    width: 100%;
  }
  
  /* Invisible overlay that blocks touch on sliders by default */
  .slider-wrapper::before {
    content: '';
    position: absolute;
    top: -10px;
    bottom: -10px;
    left: 0;
    right: 0;
    z-index: 5;
    /* Block pointer events to prevent accidental slider changes */
    pointer-events: auto;
  }
  
  /* When actively interacting with slider, remove overlay */
  .slider-wrapper.slider-active::before {
    pointer-events: none;
  }
  
  /* Additional protection during scroll */
  body.is-scrolling input[type="range"] {
    pointer-events: none !important;
  }
}
